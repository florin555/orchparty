sudo: required
services:
- docker
language: ruby
env:
  global:
  - secure: gQZ3h3P2ZWPZHsgEPA1C0vdRcegPGO72E/rv3VeWybkVUbQbjbem6SSd0RIQN7G/BWcUx7NfvFkjErMpnNqpFAiM5dqRJzfvLiNox9mAJLsvke4/aJSokfT8348tpwZ9adfSK1HmAtIurb20vE7HTWUO4Sjf18Min3Kh9brz0+dtMhheAwx0NxtwRdpQ2WCmr8gB6OSC3X+AHjg0Vokb8I/o4TC53akJ1D84aowk6zqij+lPZzEtnRcaRe8UU7CS+91k16wnPg2+gy/4IpaHRq9bOSOrspBGI7SbMfDGpTWV3ytUvXfvGYYD2hJ4RbX5KiqF3Lma21WuxrQl8e9AzSfSuW2EFGbvRxF5J5XlE4z4AW9ooaJ3iFkP53m4DEdxL+9SaN2M3RuGM07ojXDJNsl7gTPciz61V4kDiyMB2Fg4+PPJM/ug2Jr8Sm4ONjO28cWN4AZYu1tj4YVXOaw2ftk8dzEOqu3gqafamENLrF2IiupGkTltdQMqIr3iDmkhN0cDigO2geqz8bCWViZ17A1Q+k4J8U4vfI1gnfv2DQza3AYj5Jd4qy5f1C8Zgw1z/hKwX6snN1CtRU7wYw4IEUPHxs4sJf+kg+64aUy4PnvO1+mKroUjFoggPBZnVYKNHLl8w5falmSPH9PratGf3nH0xJPcsUGKfrago7irU1Y=
  - secure: FRzU0dSarYMvl3AMNNymJJ6FtmS9erZdhqiD3GNoChrZkdN2dBUdmXKVvUH/EPqSCIEJlN1ZTyvp4SWRutHVJ1h5xqOe50gIX1tYPoSdSWk83ZPW5JuPbQVqBZfVUILsI8MY832j4MP+NgjudsYtGqrWLlj8AikojiQuQOGRPyJ54msxe4WxsHwLM+QC+uVL+qIBRxIQa1EHznCaOy4cnKuIikYqwE57+aDAOfhSHDAB2FFUYtE1R2gTmTfe708UE3o47ksdUNZRwv4+BUwltg21YGgNqPq+qtHdiSwp4FD5WSEfjGaTJ8U6bMZksUMQu7LarJnQSiCuaY/jXfsSJ0/p5IkWenHsVX3aZ2sS6sMw1e/0stWcpbxYwYJaGJ8W9vPuBpivFl05n0goP7EeC3llKtIDQm3STU3UpKrPszyv0WgGB7tNjRZdWDMaX7R9rzISkzEORFPY7A4HLpbKt14LEGNFDf7ZSUIVFntIKK5ZPe+PaUtZPQFaVqPOht3UiY0EvYkNKmcsM6FdkI6uJxm0IhXTJ0wUMgQyzzCpZkBWhqrHkxJkTi2ByBj9OzvrPYzYe0xuPmqDOIpFnZL2Gp8lXWKe0DJ27zD+dHprflPjtA7DJt95THZnH4Nv1VVoI1oRk2IU4ZA94c7hc+gA9JU5jAGd0r9yTYp3/rMLHCw=
addons:
  code_climate:
    repo_token:
      secure: HTTk2xYKjsWmnOkQd0CX/ltH5E87vRmqm5z+010D4wc4P8gxrbdwgZB9J/KgKp0u55WP1Ox64VQiMqBQxAOAlMyWd+Wnys6u/ooZx8Wk8msEBio7Pf75VYTLrAfOiRNcE7iYqcv/SBrdj6jkA0+defKtZT65RavVef6B9dyPxXW8lTijW6BAM15Qe+Gh/o+hfLGAeNPMCvNmkXQL/aucGaihqJHU7AJ+udtiCBRJPuXKRSKp92rpj6ar9QyrRNH71V0sJLzpG4CS7xvSwMsKcN1VSzI8TtIYaw602EDesM/82igqgajYCJLYuvUefwexdL+eA8S+P4YHi+QkD4bCFxU1YzWQbFty2B5HBF5RJl3TVeGKu3v3NLQE7MzMfr2g6Cxq4BAY4DdRygVkeviJZJnO8D4iLfZTsawqoga6z+loj89bDxBmHHJxWPYWefOeUJDu2oC9OsxVqAIw/fZ2aorjslRMYieej8GqmZw8USbyGl+t5I4AyaUu8bAcR2pnUaZr+d9/4mA+qFow8XJNuMN2ldfKbGPYXsEiJm57aBNLaOtT5WYQ1m8TRJnaBI+26G2vNXol/OBB5Lh2ThhHDmCyGIEK91uBGGuqw1sDyIriY2DbbuHQFkprEUDLcSnDr7OxvmIaJivdcayYUaM0/znO35owdxH1Y2RCiL50WQc=
rvm:
- 2.2
- 2.3
- 2.4
before_install: gem install bundler -v 2.0.1
install: bundle install
script: bundle exec rspec
after_success:
- bundle exec codeclimate-test-reporter
deploy:
  - provider: rubygems
    api_key:
      secure: XnUBF2iCbMQXD/hUDcbOF2Y66x2A+Fjg0qx5ceJB7ctOnh2Q6NWMjcxF0oINteryzY78gbI3BB0GnemX8nrvJ/kLxgVWSOPBPlR1ufREekSkElPnccGi6oH8D6goI0d3rtB81cwOzJl+BhXCLFiJRvySOmDBw87ENhianMwhNf+6oW/QgAHKHKuu9hJM91u5Z+8dw8x5iqMtxxiiCPSmd9T6PDknJDD3sz2XdSOMGRQO9EqFQSdngX6AbRRgOewY+klXCut44Vc8SefIqtmRQ6/VF5onTNeLL4ZJkiazS2r4Xi93jl0/lzIamqDIinbVFx5xVH1Kb3JyjkRnW/Ah6tHtwQZlJUuJLQbRFKDY+w3dXKKn7rLaV3neQ9q/0TxlHuUQqQsLV6cY38Xb0y/x+xYvNaWy7oDLe836dHIvxec3Ea7t0wt2HMk5jVuFDNm3TnSvu7mYbF+ZoYyYLFLtX35KMu7WMDQnHU6zvJPdE6EFENoximY/MiX0vvco0Z4HiQmJFRrmvA/gGKgn7qpan+6oysrLg/oVWOgYbc5BQmLoX9jxnb//BSWlxxD85tBGlG/IO1pOU/FAFNlbheqxfoF/YUyWJQCIX0V1H13+10KuLBSSX+lg4BkxmluWC4VsqMeMwTHtEgKb7x7nIJsRxmcvyqIeD/noCoSooLgUH+A=
    gem: orchparty
    on:
      tags: true
      repo: jannishuebl/orchparty
      rvm: 2.4
  - provider: script
    script: rake upload_docker
    on:
      tags: true
      repo: jannishuebl/orchparty
      rvm: 2.4
